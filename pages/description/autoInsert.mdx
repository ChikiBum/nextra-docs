import Link from "next/link";
import Image from "next/image";
import StyledButton from "../../components/styledButton/styledButton.tsx";

import img4_2 from "../../images/anchors/4_2.jpg";

# Autoinsert Description

Click <Link href="/about">`here`</Link> to see Demo.

## 1. Adding an Autoinsert block

### 1.1. Adding an Autoinsert block through the admin panel.

<StyledButton message="image">
  <Image src={img4_2} alt="img4_2" width={800} height={500} />
</StyledButton>

<StyledButton message="anchors config example">

```js filename="AutoInsert config example" {3} copy
<script>
  window.vpb = 
  {"autoInsert":
    [
      {
        "debug": true,
        "unitId": 57854,
        "selector": "body main article:not(.uk-comment):not(:has(nav))",
        "when": "symbols",
        "allowUrlRegexp": ".*/person|box_article|news|article|interview|gossip|review|serials/.*",
        "blockUrlRegexp": ".*/film/.*",
        "lookupDepth": 2,
        "whenValue": 1000,
        "insertValue": 500,
        "repeat": true,
        "repeatInsert": 1500,
        "watch": false,
         "header": {
            "isDefaultText": true,
            "style": {
                "opacity": "40%",
                "fontSize": "12px",
                "marginBottom": "0.25rem",
                "width": "98%",
                "justifyContent": "flex-start"
            },
            "text": "Реклама"
        },
        "className": "bdmAd",
        "sizes": [
            [
                200,
                200
            ],
            [
                250,
                250
            ],
            [
                300,
                75
            ],
            [
                300,
                100
            ]
        ],
    "envs": "d",
    "envExt": [
        {
            "sizes": [
                [
                    320,
                    100
                ],
                [
                    200,
                    200
                ]
            ],
            "envs": "m,t"
        }
    ],
    "insertBefore": "",
    "insertAfter": "",
    "insertAllowSelectorsList": "body, header, main, aside, footer, article, section, div, ol, ul, p",
    "insertBlockSelectorsList": "",
    "skipCountSelectorsList": "",
    "countInvisibleElements": false,
    "restrictInsertionProximity": {
        "enabled": true,
        "selectors": "img,a",
        "distance": 1
    }
  }
    ]
  }
</script>
```

</StyledButton>


## 4. Autoinsert issues 

### 4.1. Not block as selector
By default autoinsert works only with "block" html element, line as div, aside, article, section etc 
in my case article was wrapped to span element and selector was  "selector": "body .post-body>div>span" and autoinsert not add ad to the selected block

for this case we need to add target block to the "insertAllowSelectorsList" config property 
"insertAllowSelectorsList": "body, header, main, aside, footer, article, section, div, ol, ul, p, span",



task https://adtelligent.atlassian.net/browse/HB-622